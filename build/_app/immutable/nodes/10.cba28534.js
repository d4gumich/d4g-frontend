import{S as Fe,i as ze,s as Oe,a as I,y as H,k as L,K as Le,h as k,c as A,z as U,l as B,m as G,n as M,b as O,A as V,d as w,f as Z,g as d,B as W,J as pe,o as ge,Z as Be,v as Q,N as Ce,O as Re,P as He,w as ce,_ as _e,q as te,e as de,r as le,C as Te,D as E,$ as me,L as ie,a0 as he,u as Me,V as Ue,E as ae}from"../chunks/index.d9340d54.js";import{N as Ve,a as We,D as fe,B as je,S as Ge,T as qe,M as be,I as we}from"../chunks/navbar.20682cce.js";import{s as Ke}from"../chunks/collapsible.1d4900fc.js";import{_ as Je,c as Xe,f as Ye,H as Ze,T as Qe,C as $e,E as xe,a as et,F as tt,b as lt,P as rt,L as nt,d as ot}from"../chunks/text_carousel.5f8efab5.js";import{w as ke}from"../chunks/index.e3a3bec3.js";import{B as Se}from"../chunks/button.64a6d6f5.js";import{H as st}from"../chunks/hangul2 copy 2.d69bf722.js";const{document:ue}=Be;function at(o){let e,t,l,u;const s=[o[5]];let r={};for(let a=0;a<s.length;a+=1)r=Ce(r,s[a]);return e=new Ze({props:r}),l=new Se({props:{text:"Go back",click:o[27],styleAdjustment:"margin: 2rem 0;"}}),{c(){H(e.$$.fragment),t=I(),H(l.$$.fragment)},l(a){U(e.$$.fragment,a),t=A(a),U(l.$$.fragment,a)},m(a,c){V(e,a,c),O(a,t,c),V(l,a,c),u=!0},p(a,c){const T=c[0]&32?Re(s,[He(a[5])]):{};e.$set(T)},i(a){u||(d(e.$$.fragment,a),d(l.$$.fragment,a),u=!0)},o(a){w(e.$$.fragment,a),w(l.$$.fragment,a),u=!1},d(a){W(e,a),a&&k(t),W(l,a)}}}function it(o){let e,t,l,u,s,r,a,c,T,m,_,i,f,h,b,S,F,$,z,q,R,K;function J(n){o[24](n)}let ee={analyzing:o[2],width:o[4]};o[1]!==void 0&&(ee.version=o[1]),i=new Qe({props:ee}),ce.push(()=>_e(i,"version",J));let v=o[7]&&ve(o),y=o[10]&&ye(o);const ne=[ut,ft],j=[];function oe(n,p){return n[2]?0:1}F=oe(o),$=j[F]=ne[F](o);let D=!o[2]&&Pe(o),P=o[8]&&Ee(o);return{c(){e=L("div"),t=L("img"),u=I(),s=L("div"),r=L("h1"),a=te("Analyze a PDF to find relevant meta and content details"),c=I(),T=L("p"),m=te("Welcome to Hangul"),_=I(),H(i.$$.fragment),h=I(),v&&v.c(),b=I(),y&&y.c(),S=I(),$.c(),z=I(),D&&D.c(),q=I(),P&&P.c(),R=de(),this.h()},l(n){e=B(n,"DIV",{class:!0});var p=G(e);t=B(p,"IMG",{src:!0,alt:!0,class:!0}),u=A(p),s=B(p,"DIV",{class:!0});var N=G(s);r=B(N,"H1",{class:!0});var X=G(r);a=le(X,"Analyze a PDF to find relevant meta and content details"),X.forEach(k),c=A(N),T=B(N,"P",{class:!0});var se=G(T);m=le(se,"Welcome to Hangul"),se.forEach(k),_=A(N),U(i.$$.fragment,N),N.forEach(k),p.forEach(k),h=A(n),v&&v.l(n),b=A(n),y&&y.l(n),S=A(n),$.l(n),z=A(n),D&&D.l(n),q=A(n),P&&P.l(n),R=de(),this.h()},h(){Te(t.src,l=st)||M(t,"src",l),M(t,"alt","Hangul Logo"),M(t,"class","hangul-logo svelte-16hb961"),M(r,"class","text-container-heading svelte-16hb961"),M(T,"class","text svelte-16hb961"),M(s,"class","text-container svelte-16hb961"),M(e,"class","content-container svelte-16hb961")},m(n,p){O(n,e,p),E(e,t),E(e,u),E(e,s),E(s,r),E(r,a),E(s,c),E(s,T),E(T,m),E(s,_),V(i,s,null),O(n,h,p),v&&v.m(n,p),O(n,b,p),y&&y.m(n,p),O(n,S,p),j[F].m(n,p),O(n,z,p),D&&D.m(n,p),O(n,q,p),P&&P.m(n,p),O(n,R,p),K=!0},p(n,p){const N={};p[0]&4&&(N.analyzing=n[2]),p[0]&16&&(N.width=n[4]),!f&&p[0]&2&&(f=!0,N.version=n[1],me(()=>f=!1)),i.$set(N),n[7]?v?(v.p(n,p),p[0]&128&&d(v,1)):(v=ve(n),v.c(),d(v,1),v.m(b.parentNode,b)):v&&(Q(),w(v,1,1,()=>{v=null}),Z()),n[10]?y?(y.p(n,p),p[0]&1024&&d(y,1)):(y=ye(n),y.c(),d(y,1),y.m(S.parentNode,S)):y&&(Q(),w(y,1,1,()=>{y=null}),Z());let X=F;F=oe(n),F===X?j[F].p(n,p):(Q(),w(j[X],1,1,()=>{j[X]=null}),Z(),$=j[F],$?$.p(n,p):($=j[F]=ne[F](n),$.c()),d($,1),$.m(z.parentNode,z)),n[2]?D&&(Q(),w(D,1,1,()=>{D=null}),Z()):D?(D.p(n,p),p[0]&4&&d(D,1)):(D=Pe(n),D.c(),d(D,1),D.m(q.parentNode,q)),n[8]?P?(P.p(n,p),p[0]&256&&d(P,1)):(P=Ee(n),P.c(),d(P,1),P.m(R.parentNode,R)):P&&(Q(),w(P,1,1,()=>{P=null}),Z())},i(n){K||(d(i.$$.fragment,n),d(v),d(y),d($),d(D),d(P),K=!0)},o(n){w(i.$$.fragment,n),w(v),w(y),w($),w(D),w(P),K=!1},d(n){n&&k(e),W(i),n&&k(h),v&&v.d(n),n&&k(b),y&&y.d(n),n&&k(S),j[F].d(n),n&&k(z),D&&D.d(n),n&&k(q),P&&P.d(n),n&&k(R)}}}function ve(o){let e,t;return e=new $e({props:{estimatedTime:o[3]}}),{c(){H(e.$$.fragment)},l(l){U(e.$$.fragment,l)},m(l,u){V(e,l,u),t=!0},p(l,u){const s={};u[0]&8&&(s.estimatedTime=l[3]),e.$set(s)},i(l){t||(d(e.$$.fragment,l),t=!0)},o(l){w(e.$$.fragment,l),t=!1},d(l){W(e,l)}}}function ye(o){let e,t;return e=new xe({props:{updateShowErrorFromParent:o[17],errorType:o[6]}}),{c(){H(e.$$.fragment)},l(l){U(e.$$.fragment,l)},m(l,u){V(e,l,u),t=!0},p(l,u){const s={};u[0]&64&&(s.errorType=l[6]),e.$set(s)},i(l){t||(d(e.$$.fragment,l),t=!0)},o(l){w(e.$$.fragment,l),t=!1},d(l){W(e,l)}}}function ft(o){let e,t,l,u,s,r,a,c,T,m,_,i,f=o[11]&&De(o);return{c(){e=L("div"),t=L("img"),u=I(),s=L("p"),r=te(o[9]),a=I(),c=L("input"),T=I(),f&&f.c(),this.h()},l(h){e=B(h,"DIV",{class:!0});var b=G(e);t=B(b,"IMG",{src:!0,class:!0,alt:!0}),u=A(b),s=B(b,"P",{class:!0});var S=G(s);r=le(S,o[9]),S.forEach(k),a=A(b),c=B(b,"INPUT",{type:!0,accept:!0,id:!0,class:!0}),T=A(b),f&&f.l(b),b.forEach(k),this.h()},h(){Te(t.src,l=rt)||M(t,"src",l),M(t,"class","pdf-icon svelte-16hb961"),M(t,"alt","PDF icon"),M(s,"class","drop-text svelte-16hb961"),M(c,"type","file"),M(c,"accept","application/pdf"),M(c,"id","file-input"),M(c,"class","svelte-16hb961"),M(e,"class","rectangle svelte-16hb961")},m(h,b){O(h,e,b),E(e,t),E(e,u),E(e,s),E(s,r),E(e,a),E(e,c),E(e,T),f&&f.m(e,null),m=!0,_||(i=[ie(c,"change",o[19]),ie(e,"drop",he(o[19])),ie(e,"dragover",he(o[18]))],_=!0)},p(h,b){(!m||b[0]&512)&&Me(r,h[9]),h[11]?f?(f.p(h,b),b[0]&2048&&d(f,1)):(f=De(h),f.c(),d(f,1),f.m(e,null)):f&&(Q(),w(f,1,1,()=>{f=null}),Z())},i(h){m||(d(f),m=!0)},o(h){w(f),m=!1},d(h){h&&k(e),f&&f.d(),_=!1,Ue(i)}}}function ut(o){let e,t,l,u,s,r,a,c;const T=[_t,ct],m=[];function _(i,f){return i[14]>0||i[13]?0:1}return t=_(o),l=m[t]=T[t](o),s=new nt({props:{progress:o[0]/o[3]*100}}),{c(){e=L("div"),l.c(),u=I(),H(s.$$.fragment),r=I(),a=L("div"),this.h()},l(i){e=B(i,"DIV",{class:!0});var f=G(e);l.l(f),u=A(f),U(s.$$.fragment,f),r=A(f),a=B(f,"DIV",{style:!0}),G(a).forEach(k),f.forEach(k),this.h()},h(){M(a,"style","margin: 0 0 3rem 0;"),M(e,"class","loading-icon svelte-16hb961")},m(i,f){O(i,e,f),m[t].m(e,null),E(e,u),V(s,e,null),E(e,r),E(e,a),c=!0},p(i,f){let h=t;t=_(i),t===h?m[t].p(i,f):(Q(),w(m[h],1,1,()=>{m[h]=null}),Z(),l=m[t],l?l.p(i,f):(l=m[t]=T[t](i),l.c()),d(l,1),l.m(e,u));const b={};f[0]&9&&(b.progress=i[0]/i[3]*100),s.$set(b)},i(i){c||(d(l),d(s.$$.fragment,i),c=!0)},o(i){w(l),w(s.$$.fragment,i),c=!1},d(i){i&&k(e),m[t].d(),W(s)}}}function De(o){let e,t;return e=new Se({props:{text:"Analyze PDF",click:o[20],styleAdjustment:"margin-top: 1rem;"}}),{c(){H(e.$$.fragment)},l(l){U(e.$$.fragment,l)},m(l,u){V(e,l,u),t=!0},p:ae,i(l){t||(d(e.$$.fragment,l),t=!0)},o(l){w(e.$$.fragment,l),t=!1},d(l){W(e,l)}}}function ct(o){let e,t;return e=new ot({}),{c(){H(e.$$.fragment)},l(l){U(e.$$.fragment,l)},m(l,u){V(e,l,u),t=!0},p:ae,i(l){t||(d(e.$$.fragment,l),t=!0)},o(l){w(e.$$.fragment,l),t=!1},d(l){W(e,l)}}}function _t(o){let e,t,l,u;return{c(){e=L("p"),t=te("estimated "),l=te(o[14]),u=te(" seconds remaining"),this.h()},l(s){e=B(s,"P",{class:!0});var r=G(e);t=le(r,"estimated "),l=le(r,o[14]),u=le(r," seconds remaining"),r.forEach(k),this.h()},h(){M(e,"class","analyzing-text svelte-16hb961")},m(s,r){O(s,e,r),E(e,t),E(e,l),E(e,u)},p(s,r){r[0]&16384&&Me(l,s[14])},i:ae,o:ae,d(s){s&&k(e)}}}function Pe(o){let e,t,l;function u(r){o[25](r)}let s={width:o[4]};return o[8]!==void 0&&(s.showModal=o[8]),e=new et({props:s}),ce.push(()=>_e(e,"showModal",u)),{c(){H(e.$$.fragment)},l(r){U(e.$$.fragment,r)},m(r,a){V(e,r,a),l=!0},p(r,a){const c={};a[0]&16&&(c.width=r[4]),!t&&a[0]&256&&(t=!0,c.showModal=r[8],me(()=>t=!1)),e.$set(c)},i(r){l||(d(e.$$.fragment,r),l=!0)},o(r){w(e.$$.fragment,r),l=!1},d(r){W(e,r)}}}function Ee(o){let e,t,l;function u(r){o[26](r)}let s={};return o[8]!==void 0&&(s.showModal=o[8]),e=new tt({props:s}),ce.push(()=>_e(e,"showModal",u)),{c(){H(e.$$.fragment)},l(r){U(e.$$.fragment,r)},m(r,a){V(e,r,a),l=!0},p(r,a){const c={};!t&&a[0]&256&&(t=!0,c.showModal=r[8],me(()=>t=!1)),e.$set(c)},i(r){l||(d(e.$$.fragment,r),l=!0)},o(r){w(e.$$.fragment,r),l=!1},d(r){W(e,r)}}}function mt(o){let e,t,l,u,s,r,a,c;ue.title=e="Hangul "+o[1]+".2",l=new Ve({props:{currentPage:pt}});const T=[it,at],m=[];function _(i,f){return i[12]?1:0}return r=_(o),a=m[r]=T[r](o),{c(){t=I(),H(l.$$.fragment),u=I(),s=L("div"),a.c(),this.h()},l(i){Le("svelte-1ow2260",ue.head).forEach(k),t=A(i),U(l.$$.fragment,i),u=A(i),s=B(i,"DIV",{class:!0});var h=G(s);a.l(h),h.forEach(k),this.h()},h(){M(s,"class","container svelte-16hb961")},m(i,f){O(i,t,f),V(l,i,f),O(i,u,f),O(i,s,f),m[r].m(s,null),c=!0},p(i,f){(!c||f[0]&2)&&e!==(e="Hangul "+i[1]+".2")&&(ue.title=e);let h=r;r=_(i),r===h?m[r].p(i,f):(Q(),w(m[h],1,1,()=>{m[h]=null}),Z(),a=m[r],a?a.p(i,f):(a=m[r]=T[r](i),a.c()),d(a,1),a.m(s,null))},i(i){c||(d(l.$$.fragment,i),d(a),c=!0)},o(i){w(l.$$.fragment,i),w(a),c=!1},d(i){i&&k(t),W(l,i),i&&k(u),i&&k(s),m[r].d()}}}const pt="hangul";let gt=!0;function dt(o,e,t){let l,u,s,r;const a=ke(0);pe(o,a,g=>t(23,r=g));const c=ke(0);pe(o,c,g=>t(22,s=g)),Je.workerSrc=We;let T,m,_,i,f=!1,h,b=!1,S=0,F=!0,$=2,z=fe,q="N/A",R=!1,K=!1,J=!1,ee=!1,v=!1;const y=g=>{t(10,R=g),N(!1)};async function ne(g){return new Promise((C,x)=>{const re=new FileReader;re.onload=async function(Y){const Ae=await lt(new Uint8Array(Y.target.result)).promise;C({page_count_:Ae.numPages,size_:g.size})},re.onerror=function(Y){x(Y.target.error)},re.readAsArrayBuffer(g)})}const j=()=>{const g=setInterval(()=>{t(0,S+=we*be),(S>=l||!J)&&(console.log("main interval cleared"),clearInterval(g))},we)};function oe(){Xe.update(g=>g.map(C=>({...C,checked:!0})))}const D=g=>{g.preventDefault()};ge(()=>{typeof window<"u"&&t(4,T=window.screen.width),oe()});async function P(){return t(7,f=!0),h=await new Promise(g=>{const C=new $e({target:document.body,props:{estimatedTime:l}});C.$on("confirm",x=>{g(x.detail),t(7,f=!1),C.$destroy()})}),h}async function n(g){if(g.preventDefault(),t(9,z=fe),g.dataTransfer?m=g.dataTransfer.files[0]:m=g.target.files[0],m)if(m.type==="application/pdf"){t(11,K=!0),t(9,z=m.name);try{ne(m).then(({page_count_:C,size_:x})=>{a.set(C),c.set((x*je).toFixed(2))}),q=z.replace(/\.pdf$/,"")}catch(C){console.error("Error loading PDF:",C)}}else console.log("Error: file is NOT a PDF"),t(9,z="Please submit a PDF"),t(6,i=0),t(10,R=!0),t(11,K=!1)}async function p(){let g;if(g=await P(),g){t(2,J=!0);const C=Date.now();try{t(5,_=await Ye(m,$,l*Ge+qe,!1)),_!==null&&console.log("Result:",_),t(5,_.verbose=gt,_),t(5,_.hangul_time=Math.round((Date.now()-C)*be*100)/100,_),t(5,_.fileName=q,_),t(5,_.version=$,_),t(5,_.document_size=s,_),S<l&&(t(0,S=l),t(13,v=!0),console.log("completing loading bar animation"),await Ke(500)),F=!1,t(12,ee=!0),t(13,v=!1)}catch(x){console.error("Could not fetch from d4gumsi.pythonanywhere.com",x),N(!0),t(6,i=1),t(10,R=!0);const re={to_name:"Szymon",file_name:_.fileName,fail_stage:"main API call",page_number:_.metadata["No.of Pages"],version:_.version,timestamp:new Date(Date.now()),first_duration:_.hangul_time,second_duration:"N/A",document_language:_.document_language.language,document_title:_.document_title,document_author:_.document_author,document_theme:_.document_theme,report_type:_.report_type};emailjs.send("default_service","template_8r3xfwe",re).then(Y=>{console.log("SUCCESS!",Y.status,Y.text)},Y=>{console.log("FAILED...",Y)})}t(0,S=0),t(2,J=!1)}else N(!0)}const N=g=>{t(2,J=!1),t(12,ee=!1),F=!0,t(0,S=0),t(9,z=g?z:fe),t(11,K=g)};function X(g){$=g,t(1,$)}function se(g){b=g,t(8,b)}function Ne(g){b=g,t(8,b)}const Ie=()=>N(!1);return o.$$.update=()=>{o.$$.dirty[0]&4194304&&console.log("Size of file: ",s,"MB"),o.$$.dirty[0]&8388608&&console.log("Number of pages: ",r),o.$$.dirty[0]&8&&console.log("Estimated Time (s):",l),o.$$.dirty[0]&9&&t(14,u=Math.round(l-S)),o.$$.dirty[0]&2&&console.log("version:",$),o.$$.dirty[0]&4&&J&&ge(j())},t(3,l=60),[S,$,J,l,T,_,i,f,b,z,R,K,ee,v,u,a,c,y,D,n,p,N,s,r,X,se,Ne,Ie]}class Et extends Fe{constructor(e){super(),ze(this,e,dt,mt,Oe,{},null,[-1,-1])}}export{Et as component};
