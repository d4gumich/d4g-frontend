import{S as Fe,i as ze,s as Oe,a as I,y as H,k as L,K as Le,h as k,c as A,z as U,l as B,m as G,n as M,b as O,A as V,d as w,f as Q,g as d,B as W,J as pe,o as ge,V as Be,v as Z,N as Ce,O as Re,P as He,w as ce,a1 as me,q as te,e as de,r as le,C as Te,D as E,a2 as _e,L as ie,Y as he,u as Me,U as Ue,E as ae}from"../chunks/index.6b6345cc.js";import{N as Ve,a as We,D as fe,B as je,S as Ge,T as qe,M as be,I as we}from"../chunks/navbar.9f4f104a.js";import{s as Ke}from"../chunks/helper_functions.eef6e43e.js";import{_ as Ye,c as Je,f as Xe,H as Qe,T as Ze,C as Se,E as xe,a as et,F as tt,b as lt,P as rt,d as ot}from"../chunks/text_carousel.80aca23c.js";import{w as ke}from"../chunks/index.ce67f301.js";import{B as $e}from"../chunks/button.e4f537e1.js";import{H as nt}from"../chunks/hangul2 copy 2.d69bf722.js";import{L as st}from"../chunks/loading_bar.b534d59f.js";const{document:ue}=Be;function at(n){let e,t,l,u;const s=[n[5]];let r={};for(let a=0;a<s.length;a+=1)r=Ce(r,s[a]);return e=new Qe({props:r}),l=new $e({props:{text:"Go back",click:n[27],styleAdjustment:"margin: 2rem 0;"}}),{c(){H(e.$$.fragment),t=I(),H(l.$$.fragment)},l(a){U(e.$$.fragment,a),t=A(a),U(l.$$.fragment,a)},m(a,c){V(e,a,c),O(a,t,c),V(l,a,c),u=!0},p(a,c){const T=c[0]&32?Re(s,[He(a[5])]):{};e.$set(T)},i(a){u||(d(e.$$.fragment,a),d(l.$$.fragment,a),u=!0)},o(a){w(e.$$.fragment,a),w(l.$$.fragment,a),u=!1},d(a){W(e,a),a&&k(t),W(l,a)}}}function it(n){let e,t,l,u,s,r,a,c,T,_,m,i,f,h,b,$,F,S,z,q,R,K;function Y(o){n[24](o)}let ee={analyzing:n[2],width:n[4]};n[1]!==void 0&&(ee.version=n[1]),i=new Ze({props:ee}),ce.push(()=>me(i,"version",Y));let v=n[7]&&ve(n),y=n[10]&&ye(n);const oe=[ut,ft],j=[];function ne(o,p){return o[2]?0:1}F=ne(n),S=j[F]=oe[F](n);let D=!n[2]&&Pe(n),P=n[8]&&Ee(n);return{c(){e=L("div"),t=L("img"),u=I(),s=L("div"),r=L("h1"),a=te("Analyze a PDF to find relevant meta and content details"),c=I(),T=L("p"),_=te("Welcome to Hangul"),m=I(),H(i.$$.fragment),h=I(),v&&v.c(),b=I(),y&&y.c(),$=I(),S.c(),z=I(),D&&D.c(),q=I(),P&&P.c(),R=de(),this.h()},l(o){e=B(o,"DIV",{class:!0});var p=G(e);t=B(p,"IMG",{src:!0,alt:!0,class:!0}),u=A(p),s=B(p,"DIV",{class:!0});var N=G(s);r=B(N,"H1",{class:!0});var J=G(r);a=le(J,"Analyze a PDF to find relevant meta and content details"),J.forEach(k),c=A(N),T=B(N,"P",{class:!0});var se=G(T);_=le(se,"Welcome to Hangul"),se.forEach(k),m=A(N),U(i.$$.fragment,N),N.forEach(k),p.forEach(k),h=A(o),v&&v.l(o),b=A(o),y&&y.l(o),$=A(o),S.l(o),z=A(o),D&&D.l(o),q=A(o),P&&P.l(o),R=de(),this.h()},h(){Te(t.src,l=nt)||M(t,"src",l),M(t,"alt","Hangul Logo"),M(t,"class","hangul-logo svelte-16hb961"),M(r,"class","text-container-heading svelte-16hb961"),M(T,"class","text svelte-16hb961"),M(s,"class","text-container svelte-16hb961"),M(e,"class","content-container svelte-16hb961")},m(o,p){O(o,e,p),E(e,t),E(e,u),E(e,s),E(s,r),E(r,a),E(s,c),E(s,T),E(T,_),E(s,m),V(i,s,null),O(o,h,p),v&&v.m(o,p),O(o,b,p),y&&y.m(o,p),O(o,$,p),j[F].m(o,p),O(o,z,p),D&&D.m(o,p),O(o,q,p),P&&P.m(o,p),O(o,R,p),K=!0},p(o,p){const N={};p[0]&4&&(N.analyzing=o[2]),p[0]&16&&(N.width=o[4]),!f&&p[0]&2&&(f=!0,N.version=o[1],_e(()=>f=!1)),i.$set(N),o[7]?v?(v.p(o,p),p[0]&128&&d(v,1)):(v=ve(o),v.c(),d(v,1),v.m(b.parentNode,b)):v&&(Z(),w(v,1,1,()=>{v=null}),Q()),o[10]?y?(y.p(o,p),p[0]&1024&&d(y,1)):(y=ye(o),y.c(),d(y,1),y.m($.parentNode,$)):y&&(Z(),w(y,1,1,()=>{y=null}),Q());let J=F;F=ne(o),F===J?j[F].p(o,p):(Z(),w(j[J],1,1,()=>{j[J]=null}),Q(),S=j[F],S?S.p(o,p):(S=j[F]=oe[F](o),S.c()),d(S,1),S.m(z.parentNode,z)),o[2]?D&&(Z(),w(D,1,1,()=>{D=null}),Q()):D?(D.p(o,p),p[0]&4&&d(D,1)):(D=Pe(o),D.c(),d(D,1),D.m(q.parentNode,q)),o[8]?P?(P.p(o,p),p[0]&256&&d(P,1)):(P=Ee(o),P.c(),d(P,1),P.m(R.parentNode,R)):P&&(Z(),w(P,1,1,()=>{P=null}),Q())},i(o){K||(d(i.$$.fragment,o),d(v),d(y),d(S),d(D),d(P),K=!0)},o(o){w(i.$$.fragment,o),w(v),w(y),w(S),w(D),w(P),K=!1},d(o){o&&k(e),W(i),o&&k(h),v&&v.d(o),o&&k(b),y&&y.d(o),o&&k($),j[F].d(o),o&&k(z),D&&D.d(o),o&&k(q),P&&P.d(o),o&&k(R)}}}function ve(n){let e,t;return e=new Se({props:{estimatedTime:n[3]}}),{c(){H(e.$$.fragment)},l(l){U(e.$$.fragment,l)},m(l,u){V(e,l,u),t=!0},p(l,u){const s={};u[0]&8&&(s.estimatedTime=l[3]),e.$set(s)},i(l){t||(d(e.$$.fragment,l),t=!0)},o(l){w(e.$$.fragment,l),t=!1},d(l){W(e,l)}}}function ye(n){let e,t;return e=new xe({props:{updateShowErrorFromParent:n[17],errorType:n[6]}}),{c(){H(e.$$.fragment)},l(l){U(e.$$.fragment,l)},m(l,u){V(e,l,u),t=!0},p(l,u){const s={};u[0]&64&&(s.errorType=l[6]),e.$set(s)},i(l){t||(d(e.$$.fragment,l),t=!0)},o(l){w(e.$$.fragment,l),t=!1},d(l){W(e,l)}}}function ft(n){let e,t,l,u,s,r,a,c,T,_,m,i,f=n[11]&&De(n);return{c(){e=L("div"),t=L("img"),u=I(),s=L("p"),r=te(n[9]),a=I(),c=L("input"),T=I(),f&&f.c(),this.h()},l(h){e=B(h,"DIV",{class:!0});var b=G(e);t=B(b,"IMG",{src:!0,class:!0,alt:!0}),u=A(b),s=B(b,"P",{class:!0});var $=G(s);r=le($,n[9]),$.forEach(k),a=A(b),c=B(b,"INPUT",{type:!0,accept:!0,id:!0,class:!0}),T=A(b),f&&f.l(b),b.forEach(k),this.h()},h(){Te(t.src,l=rt)||M(t,"src",l),M(t,"class","pdf-icon svelte-16hb961"),M(t,"alt","PDF icon"),M(s,"class","drop-text svelte-16hb961"),M(c,"type","file"),M(c,"accept","application/pdf"),M(c,"id","file-input"),M(c,"class","svelte-16hb961"),M(e,"class","rectangle svelte-16hb961")},m(h,b){O(h,e,b),E(e,t),E(e,u),E(e,s),E(s,r),E(e,a),E(e,c),E(e,T),f&&f.m(e,null),_=!0,m||(i=[ie(c,"change",n[19]),ie(e,"drop",he(n[19])),ie(e,"dragover",he(n[18]))],m=!0)},p(h,b){(!_||b[0]&512)&&Me(r,h[9]),h[11]?f?(f.p(h,b),b[0]&2048&&d(f,1)):(f=De(h),f.c(),d(f,1),f.m(e,null)):f&&(Z(),w(f,1,1,()=>{f=null}),Q())},i(h){_||(d(f),_=!0)},o(h){w(f),_=!1},d(h){h&&k(e),f&&f.d(),m=!1,Ue(i)}}}function ut(n){let e,t,l,u,s,r,a,c;const T=[mt,ct],_=[];function m(i,f){return i[14]>0||i[13]?0:1}return t=m(n),l=_[t]=T[t](n),s=new st({props:{progress:n[0]/n[3]*100}}),{c(){e=L("div"),l.c(),u=I(),H(s.$$.fragment),r=I(),a=L("div"),this.h()},l(i){e=B(i,"DIV",{class:!0});var f=G(e);l.l(f),u=A(f),U(s.$$.fragment,f),r=A(f),a=B(f,"DIV",{style:!0}),G(a).forEach(k),f.forEach(k),this.h()},h(){M(a,"style","margin: 0 0 3rem 0;"),M(e,"class","loading-icon svelte-16hb961")},m(i,f){O(i,e,f),_[t].m(e,null),E(e,u),V(s,e,null),E(e,r),E(e,a),c=!0},p(i,f){let h=t;t=m(i),t===h?_[t].p(i,f):(Z(),w(_[h],1,1,()=>{_[h]=null}),Q(),l=_[t],l?l.p(i,f):(l=_[t]=T[t](i),l.c()),d(l,1),l.m(e,u));const b={};f[0]&9&&(b.progress=i[0]/i[3]*100),s.$set(b)},i(i){c||(d(l),d(s.$$.fragment,i),c=!0)},o(i){w(l),w(s.$$.fragment,i),c=!1},d(i){i&&k(e),_[t].d(),W(s)}}}function De(n){let e,t;return e=new $e({props:{text:"Analyze PDF",click:n[20],styleAdjustment:"margin-top: 1rem;"}}),{c(){H(e.$$.fragment)},l(l){U(e.$$.fragment,l)},m(l,u){V(e,l,u),t=!0},p:ae,i(l){t||(d(e.$$.fragment,l),t=!0)},o(l){w(e.$$.fragment,l),t=!1},d(l){W(e,l)}}}function ct(n){let e,t;return e=new ot({}),{c(){H(e.$$.fragment)},l(l){U(e.$$.fragment,l)},m(l,u){V(e,l,u),t=!0},p:ae,i(l){t||(d(e.$$.fragment,l),t=!0)},o(l){w(e.$$.fragment,l),t=!1},d(l){W(e,l)}}}function mt(n){let e,t,l,u;return{c(){e=L("p"),t=te("estimated "),l=te(n[14]),u=te(" seconds remaining"),this.h()},l(s){e=B(s,"P",{class:!0});var r=G(e);t=le(r,"estimated "),l=le(r,n[14]),u=le(r," seconds remaining"),r.forEach(k),this.h()},h(){M(e,"class","analyzing-text svelte-16hb961")},m(s,r){O(s,e,r),E(e,t),E(e,l),E(e,u)},p(s,r){r[0]&16384&&Me(l,s[14])},i:ae,o:ae,d(s){s&&k(e)}}}function Pe(n){let e,t,l;function u(r){n[25](r)}let s={width:n[4]};return n[8]!==void 0&&(s.showModal=n[8]),e=new et({props:s}),ce.push(()=>me(e,"showModal",u)),{c(){H(e.$$.fragment)},l(r){U(e.$$.fragment,r)},m(r,a){V(e,r,a),l=!0},p(r,a){const c={};a[0]&16&&(c.width=r[4]),!t&&a[0]&256&&(t=!0,c.showModal=r[8],_e(()=>t=!1)),e.$set(c)},i(r){l||(d(e.$$.fragment,r),l=!0)},o(r){w(e.$$.fragment,r),l=!1},d(r){W(e,r)}}}function Ee(n){let e,t,l;function u(r){n[26](r)}let s={};return n[8]!==void 0&&(s.showModal=n[8]),e=new tt({props:s}),ce.push(()=>me(e,"showModal",u)),{c(){H(e.$$.fragment)},l(r){U(e.$$.fragment,r)},m(r,a){V(e,r,a),l=!0},p(r,a){const c={};!t&&a[0]&256&&(t=!0,c.showModal=r[8],_e(()=>t=!1)),e.$set(c)},i(r){l||(d(e.$$.fragment,r),l=!0)},o(r){w(e.$$.fragment,r),l=!1},d(r){W(e,r)}}}function _t(n){let e,t,l,u,s,r,a,c;ue.title=e="Hangul "+n[1]+".2",l=new Ve({props:{currentPage:pt}});const T=[it,at],_=[];function m(i,f){return i[12]?1:0}return r=m(n),a=_[r]=T[r](n),{c(){t=I(),H(l.$$.fragment),u=I(),s=L("div"),a.c(),this.h()},l(i){Le("svelte-1ow2260",ue.head).forEach(k),t=A(i),U(l.$$.fragment,i),u=A(i),s=B(i,"DIV",{class:!0});var h=G(s);a.l(h),h.forEach(k),this.h()},h(){M(s,"class","container svelte-16hb961")},m(i,f){O(i,t,f),V(l,i,f),O(i,u,f),O(i,s,f),_[r].m(s,null),c=!0},p(i,f){(!c||f[0]&2)&&e!==(e="Hangul "+i[1]+".2")&&(ue.title=e);let h=r;r=m(i),r===h?_[r].p(i,f):(Z(),w(_[h],1,1,()=>{_[h]=null}),Q(),a=_[r],a?a.p(i,f):(a=_[r]=T[r](i),a.c()),d(a,1),a.m(s,null))},i(i){c||(d(l.$$.fragment,i),d(a),c=!0)},o(i){w(l.$$.fragment,i),w(a),c=!1},d(i){i&&k(t),W(l,i),i&&k(u),i&&k(s),_[r].d()}}}const pt="hangul";let gt=!0;function dt(n,e,t){let l,u,s,r;const a=ke(0);pe(n,a,g=>t(23,r=g));const c=ke(0);pe(n,c,g=>t(22,s=g)),Ye.workerSrc=We;let T,_,m,i,f=!1,h,b=!1,$=0,F=!0,S=2,z=fe,q="N/A",R=!1,K=!1,Y=!1,ee=!1,v=!1;const y=g=>{t(10,R=g),N(!1)};async function oe(g){return new Promise((C,x)=>{const re=new FileReader;re.onload=async function(X){const Ae=await lt(new Uint8Array(X.target.result)).promise;C({page_count_:Ae.numPages,size_:g.size})},re.onerror=function(X){x(X.target.error)},re.readAsArrayBuffer(g)})}const j=()=>{const g=setInterval(()=>{t(0,$+=we*be),($>=l||!Y)&&(console.log("main interval cleared"),clearInterval(g))},we)};function ne(){Je.update(g=>g.map(C=>({...C,checked:!0})))}const D=g=>{g.preventDefault()};ge(()=>{typeof window<"u"&&t(4,T=window.screen.width),ne()});async function P(){return t(7,f=!0),h=await new Promise(g=>{const C=new Se({target:document.body,props:{estimatedTime:l}});C.$on("confirm",x=>{g(x.detail),t(7,f=!1),C.$destroy()})}),h}async function o(g){if(g.preventDefault(),t(9,z=fe),g.dataTransfer?_=g.dataTransfer.files[0]:_=g.target.files[0],_)if(_.type==="application/pdf"){t(11,K=!0),t(9,z=_.name);try{oe(_).then(({page_count_:C,size_:x})=>{a.set(C),c.set((x*je).toFixed(2))}),q=z.replace(/\.pdf$/,"")}catch(C){console.error("Error loading PDF:",C)}}else console.log("Error: file is NOT a PDF"),t(9,z="Please submit a PDF"),t(6,i=0),t(10,R=!0),t(11,K=!1)}async function p(){let g;if(g=await P(),g){t(2,Y=!0);const C=Date.now();try{t(5,m=await Xe(_,S,l*Ge+qe,!1)),m!==null&&console.log("Result:",m),t(5,m.verbose=gt,m),t(5,m.hangul_time=Math.round((Date.now()-C)*be*100)/100,m),t(5,m.fileName=q,m),t(5,m.version=S,m),t(5,m.document_size=s,m),$<l&&(t(0,$=l),t(13,v=!0),console.log("completing loading bar animation"),await Ke(500)),F=!1,t(12,ee=!0),t(13,v=!1)}catch(x){console.error("Could not fetch from d4gumsi.pythonanywhere.com",x),N(!0),t(6,i=1),t(10,R=!0);const re={to_name:"Szymon",file_name:m.fileName,fail_stage:"main API call",page_number:m.metadata["No.of Pages"],version:m.version,timestamp:new Date(Date.now()),first_duration:m.hangul_time,second_duration:"N/A",document_language:m.document_language.language,document_title:m.document_title,document_author:m.document_author,document_theme:m.document_theme,report_type:m.report_type};emailjs.send("default_service","template_8r3xfwe",re).then(X=>{console.log("SUCCESS!",X.status,X.text)},X=>{console.log("FAILED...",X)})}t(0,$=0),t(2,Y=!1)}else N(!0)}const N=g=>{t(2,Y=!1),t(12,ee=!1),F=!0,t(0,$=0),t(9,z=g?z:fe),t(11,K=g)};function J(g){S=g,t(1,S)}function se(g){b=g,t(8,b)}function Ne(g){b=g,t(8,b)}const Ie=()=>N(!1);return n.$$.update=()=>{n.$$.dirty[0]&4194304&&console.log("Size of file: ",s,"MB"),n.$$.dirty[0]&8388608&&console.log("Number of pages: ",r),n.$$.dirty[0]&8&&console.log("Estimated Time (s):",l),n.$$.dirty[0]&9&&t(14,u=Math.round(l-$)),n.$$.dirty[0]&2&&console.log("version:",S),n.$$.dirty[0]&4&&Y&&ge(j())},t(3,l=60),[$,S,Y,l,T,m,i,f,b,z,R,K,ee,v,u,a,c,y,D,o,p,N,s,r,J,se,Ne,Ie]}class Tt extends Fe{constructor(e){super(),ze(this,e,dt,_t,Oe,{},null,[-1,-1])}}export{Tt as component};
